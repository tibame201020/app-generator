---
title: "ðŸ­ Factory Workflow Blueprint"
subtitle: "The Literate State Machine of Software Production"
format:
  html:
    toc: true
    mermaid:
      theme: forest
---

# ðŸ­ Autonomous Software Factory Workflow

> [!NOTE]
> This is an **Executable Document**. It not only describes the workflow but also serves as the real-time monitoring interface for the factory.

## ðŸ—ï¸ Core Architecture: Decoupling & Orchestration

The factory is composed of five specialized autonomous components orchestrated by a central brain.

```{mermaid}
graph TD
    User((ðŸ‘©â€ðŸ’» Human)) --> Orchestrator[ðŸ Factory Orchestrator]
    
    subgraph "Phase 1: Discovery"
        Orchestrator --> ReqAnalyst[ðŸ“ Requirements Analyst]
        ReqAnalyst --> VisualDesigner{ðŸŽ¨ Needs UI?}
        VisualDesigner -- Yes --> VisualSkill[ðŸ–¼ï¸ Visual Designer]
        VisualDesigner -- No --> Architect
    end
    
    subgraph "Phase 2: Technical Design"
        VisualSkill --> Architect[ðŸ›ï¸ Architect Reviewer]
        Architect --> Simulation[ðŸ§  Mental Simulation]
    end
    
    subgraph "Phase 3: Execution"
        Simulation --> Iterator[ðŸ­ Factory Iterator]
        Iterator --> Tracker[ðŸ—„ï¸ tracker.json]
        Tracker --> Worker[ðŸ‘· Worker Agents]
    end

    Worker --> PR[ðŸš€ Pull Request]
    PR --> CI{ðŸ¤– CI Checker}
    CI -- Pass --> Merge[âœ… Merge & Advance]
    CI -- Fail --> Repair[ðŸ©¹ Self-Healing]
    Repair --> Worker
```

## ðŸ“Š Live Factory Status (Experimental)

This section demonstrates the Power of Quarto: reading the actual `.jules/tracker.json` (if it exists) to show real-time progress.

::: {.callout-tip}
### How it works
The following block uses Python to parse the project state and render a progress summary directly into this document.
:::

```python
import json
import os

tracker_path = ".jules/tracker.json"
if os.path.exists(tracker_path):
    with open(tracker_path, 'r', encoding='utf-8') as f:
        data = json.load(f)
    print(f"**Current Phase:** {data.get('current_phase', 'N/A')}")
    # Additional logic to render progress bars can go here
else:
    print("> âš ï¸ No active tracker found. Factory is currently idle.")
```

## ðŸ› ï¸ Role Definitions

### 1. [Factory Orchestrator](skills/factory-orchestrator/SKILL.md)
The central navigator. Manages state transitions and input/output flow between components.

### 2. [Requirements Analyst](skills/requirements-analyst/SKILL.md)
Specializes in intent classification (`Create`, `Continue`, `Maintain`) and baseline requirement gathering.

### 3. [Visual Designer](skills/visual-designer/SKILL.md)
**Optional.** Activated only for UI-heavy payloads. Generates Design Tokens and Layout specs.

### 4. [Architect Reviewer](skills/architect-reviewer/SKILL.md)
Handles ADR generation and defensive simulation.

### 5. [Factory Iterator](skills/factory-iterator/SKILL.md)
Generates the `tracker.json` and micro-task specs for workers.

---

> [!TIP]
> **Literate Strategy**: By using `.qmd`, we ensure that the documentation evolves with the code. If a new skill is added, it must be registered in this blueprint to be visible to the Orchestrator.
