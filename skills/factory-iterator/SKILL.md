---
name: factory-iterator
description: ç´”ç²¹çš„ã€Œä»»å‹™è¦æ ¼ç”¢å‡ºå™¨ã€ã€‚è² è²¬å»ºå» éƒ¨ç½²ã€ä»»å‹™æ‹†è§£èˆ‡æ¨¡çµ„åŒ–åˆ‡åˆ†ï¼Œä½†ä¸æ¶‰åŠä»»å‹™æ´¾ç™¼æˆ–èª¿åº¦ã€‚
---

# ğŸ­ Factory Iterator (è¦æ ¼ç”¢å‡ºèˆ‡ä»»å‹™åˆ‡åˆ†)

æ‚¨çš„ç›®æ¨™æ˜¯ç”¢å‡ºæ©Ÿå™¨äººå¯è®€çš„ä»£ç¢¼è¦æ ¼ï¼Œä¸¦å°‡éœ€æ±‚æ‹†è§£ç‚ºé«˜å…§èšã€ä½è€¦åˆçš„æ¨¡çµ„åŒ–å¾®å‹ä»»å‹™ã€‚

> **è·è²¬é‚Šç•Œ**ï¼šæ‚¨åªè² è²¬ã€Œç”¢å‡ºä»€éº¼ä»»å‹™ã€ï¼Œä¸è² è²¬ã€ŒæŠŠä»»å‹™äº¤çµ¦èª°ã€ã€‚
> ä»»å‹™çš„æ´¾ç™¼èˆ‡èª¿åº¦ç”± [Task Dispatcher](../task-dispatcher/SKILL.md) å°ˆè·è™•ç†ã€‚

---

## ğŸ“– åŸ·è¡Œæµç¨‹

### Step 1: å»ºå» èˆ‡ç’°å¢ƒéƒ¨ç½² (Scaffolding)
- å¾æ¨¡æ¿ç”¢ç”Ÿ `.{{AGENT_NAME}}/tracker.json` èˆ‡ `AGENT_PROTOCOL.md`ã€‚
- **è¦–è¦ºè¦ç¯„æ³¨å…¥**ï¼šå°‡ `RFP.md` å…§çš„ Design Tokens å¯«å…¥ä»»å‹™è¦æ ¼ä¸­ã€‚
- **è¦å‰‡ç›®éŒ„åˆå§‹åŒ–**ï¼šç¢ºä¿ `.agents/rules/` ç›®éŒ„å­˜åœ¨ä¸”åŒ…å«åŸºæœ¬ç·¨ç¢¼å®ˆå‰‡ã€‚
- **æ–‡æª”éª¨æ¶å»ºç«‹**ï¼šè‹¥ `docs/FACTORY_WORKFLOW.qmd` ä¸å­˜åœ¨ï¼Œå¾æ¨¡æ¿ç”¢ç”Ÿåˆå§‹ç‰ˆæœ¬ã€‚
- **CI/CD æŠ€è¡“æ£§é©é…**ï¼šè®€å– Architect Reviewer ç”¢å‡ºçš„ `docs/ADR/*.md`ï¼Œæ ¹æ“šå°ˆæ¡ˆé¸å‹ï¼ˆå¦‚ Next.jsã€Spring Bootã€Django ç­‰ï¼‰ï¼Œ**æ›¿æ›** `auto-merge.yml` å’Œ `phase-bump.yml` æ¨¡æ¿ä¸­çš„ Backend Tests / Frontend Checks å€å¡Šã€‚ç¦æ­¢ç•™ä¸‹èˆ‡å¯¦éš›æŠ€è¡“æ£§ä¸ç¬¦çš„ CI æŒ‡ä»¤ã€‚

### Step 2: ä»»å‹™æ‹†è§£èˆ‡æ¨¡çµ„åŒ– (Intent-Aware Modular Micro-Tasking)
- **å…±é€šè¦ç¯„**ï¼šæ‹†è§£ç‚ºç¬¦åˆã€Œå–®æª” 300 è¡Œå…§ã€çš„å¾®å‹ä»»å‹™ã€‚
- **ğŸŸ¢ CREATE**ï¼šé—œæ³¨ç’°å¢ƒæ­å»ºã€åˆå§‹æ ¸å¿ƒé‚è¼¯ã€‚
- **ğŸŸ¡ CONTINUE / ğŸ”´ MAINTAIN**ï¼š
  - **é¦–è¦ä»»å‹™**ï¼šå¿…é ˆå…ˆå»ºç«‹ã€Œä»£ç¢¼å¯©è¨ˆ (Maintenance Audit)ã€ä»»å‹™ï¼Œè¦æ±‚ Worker å›å ±å°æ—¢æœ‰ä»£ç¢¼çš„ç†è§£ã€‚
  - **ç´°ç¯€**ï¼šæŒ‡å®š `allowed_paths` æ²™ç›’æ¬Šé™æ™‚æ‡‰æ›´ç‚ºä¿å®ˆã€‚

> [!IMPORTANT]
> ### æ¨¡çµ„åŒ–åˆ‡åˆ†åŸå‰‡ (Critical for Future Scalability)
> æ¯å€‹ä»»å‹™çš„ `allowed_paths` æ‡‰ç›¡é‡äº’ä¸é‡ç–Šã€‚é€™æ˜¯æœªä¾†æ”¯æ´å¤š Worker ä¸¦è¡Œçš„é—œéµå‰æï¼š
> - ä»»å‹™ A ä¿®æ”¹ `src/auth/`ï¼Œä»»å‹™ B ä¿®æ”¹ `src/dashboard/` â†’ âœ… å¯ä¸¦è¡Œ
> - ä»»å‹™ A å’Œ B éƒ½ä¿®æ”¹ `src/shared/utils.ts` â†’ âŒ è¡çªé¢¨éšª
>
> ç•¶ç„¡æ³•é¿å…è·¯å¾‘é‡ç–Šæ™‚ï¼Œå¿…é ˆåœ¨ `tracker.json` ä¸­å»ºç«‹æ˜ç¢ºçš„ `depends_on` ä¾è³´é—œä¿‚ã€‚

### Step 3: è¦æ ¼æ ¡é©— (Spec Integrity Check)
- ç¢ºèªæ¯å€‹ä»»å‹™çš„ `spec_ref` æŒ‡å‘å¯¦éš›å­˜åœ¨çš„ YAML æª”æ¡ˆã€‚
- ç¢ºèª `tracker.json` ä¸­çš„ task ID èˆ‡ spec æª”æ¡ˆåç¨±ä¸€è‡´ã€‚
- ç¢ºèª Phase é–“çš„ä¾è³´é †åºåˆç†ã€‚

## ğŸ› ï¸ ç”¢å‡ºç‰©
- **`.{{AGENT_NAME}}/tracker.json`**: ä»»å‹™è¿½è¹¤å™¨ï¼ˆå« Phase çµæ§‹èˆ‡ä¾è³´ï¼‰ã€‚
- **`.{{AGENT_NAME}}/AGENT_PROTOCOL.md`**: Worker åŸ·è¡Œå”è­°ã€‚
- **`specs/tasks/*.yml`**: å¼·å‹åˆ¥ä»»å‹™è¦æ ¼æ›¸ã€‚

---
> ğŸ‰ **å®Œæˆ**ï¼šæ‰€æœ‰ä»»å‹™è¦æ ¼å·²ç”¢å‡ºä¸¦é€šéæ ¡é©—ã€‚è«‹å°‡æ§åˆ¶æ¬Šäº¤é‚„ Orchestratorï¼Œç”± [Task Dispatcher](../task-dispatcher/SKILL.md) æ¥æ‰‹èª¿åº¦ã€‚
